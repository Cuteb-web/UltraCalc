<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Calculator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        :root {
            --background-color: #1A1A1A;
            --text-color: #FFFFFF;
            --container-bg-color: #333333;
            --border-color: #FFD700;
            --button-bg-color: #FFD700;
            --button-hover-bg-color: #FFAA00;
            --input-bg-color: #555555;
            --results-bg-color: #444444;
            --font-family: 'Press Start 2P', cursive;
            --font-size: 12px;
            --heading-color: #FFD700;
            --heading-shadow: 1px 1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, -1px -1px 0 #000;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: var(--font-size);
            text-align: center;
            margin: 0;
            padding: 0;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        .container {
            display: inline-block;
            background-color: var(--container-bg-color);
            padding: 20px;
            border: 3px solid var(--border-color);
            border-radius: 10px;
            margin-top: 50px;
            max-width: 300px;
            width: 100%;
        }

        h1 {
            font-size: 16px;
            color: var(--heading-color);
            text-shadow: var(--heading-shadow);
            margin: 0 0 20px 0;
        }

        label, select, input[type="number"], button {
            display: block;
            margin: 10px auto;
            width: 90%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: var(--input-bg-color);
            color: var(--border-color);
            font-family: var(--font-family);
            font-size: 14px;
            text-align: center;
            box-shadow: 0px 0px 5px #000000;
        }

        button {
            background-color: var(--button-bg-color);
            color: #000000;
            cursor: pointer;
            margin-top: 15px;
        }

        button:hover {
            background-color: var(--button-hover-bg-color);
        }

        #results {
            margin-top: 20px;
            padding: 10px;
            background-color: var(--results-bg-color);
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ultra Calculator</h1>
        <label for="ultra">Select Ultra:</label>
        <select id="ultra" aria-labelledby="ultra">
            <!-- Options here -->
        </select>
        <label for="luck">Luck:</label>
        <input type="number" id="luck" min="0" max="20" aria-labelledby="luck">
        <label for="clover">Clovers:</label>
        <input type="number" id="clover" min="0" max="6" aria-labelledby="clover">
        <label for="dragons">Lucky Dragons:</label>
        <input type="number" id="dragons" min="0" max="6" aria-labelledby="dragons">
        <label for="lemonade">Lemonade:</label>
        <input type="number" id="lemonade" min="0" max="1" aria-labelledby="lemonade">
        <button id="calculate">Calculate Probability</button>
        <div id="results" aria-live="polite"></div>
    </div>
    <script>
        const ultraSelect = document.getElementById("ultra");
        const luckInput = document.getElementById("luck");
        const cloverInput = document.getElementById("clover");
        const dragonsInput = document.getElementById("dragons");
        const lemonadeInput = document.getElementById("lemonade");
        const calculateButton = document.getElementById("calculate");
        const resultsDiv = document.getElementById("results");

        const ultraMultipliers = {
            1: 3.1, 2: 3.1, 3: 1.36, 4: 1.53, 5: 3.01, 6: 5.85,
            7: 24.84, 8: 15.72, 9: 13.57, 10: 18.63, 11: 18.63,
            12: 14.22, 13: 27.15, 14: 15.71, 15: 9.95, 16: 27.15,
            17: 10.47, 18: 13.57, 19: 9.48, 20: 14.22, 21: 15.71,
            22: 9.95, 23: 31.06, 24: 9.95, 25: 15.72, 26: 9.95,
            27: 14.22, 28: 13.57, 29: 13.57, 30: 11.91
        };

        calculateButton.addEventListener("click", () => {
            const ultraId = ultraSelect.value;
            const luck = parseInt(luckInput.value) || 0;
            const clover = parseInt(cloverInput.value) || 0;
            const dragons = parseInt(dragonsInput.value) || 0;
            const lemonade = parseInt(lemonadeInput.value) || 0;

            const probability = calculateUltraProbability(ultraId, luck, clover, dragons, lemonade);
            const fraction = (percentage) => (1 / (percentage / 100)).toFixed(0);

            resultsDiv.textContent = `You have a ${probability.toFixed(3)}% chance of dropping this ultra, or a 1 in ${fraction(probability)} chance.`;
        });

        function calculateUltraProbability(id, luck, clovers, dragons, lemonade) {
            if (id !== "0") {
                luck = luck * (1.5 ** clovers) * (1.4 ** dragons) * (1.5 ** lemonade);
                luck = Math.min(luck, 25);

                const luckCalc = 0.0005 * luck + 0.006;
                const multiplier = ultraMultipliers[id];

                return luckCalc * multiplier;
            }
            return 0;
        }
    </script>
</body>
</html>
